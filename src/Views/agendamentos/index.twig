{% extends "base.twig" %}

{% block main %}
<nav>
    <ul>
        <li>
            <hgroup role="heading">
                <h3>Agendamentos</h3>
                <p>Existem {{ total }} agendamentos previstos</p>
            </hgroup>
        </li>
    </ul>
    <ul>
        <li>
            <form role="group">
                <select name="atividade_id">
                    <option value="" {{ atividade_id ? '' : 'selected' }}>Atividade</option>
                    <option disabled>------</option>
                    {% for id, nome in atividades %}
                    <option value="{{ id }}" {{ id == atividade_id ? 'selected': '' }}>{{ nome }}</option>
                    {% endfor %}
                </select>
                <select name="disciplina_id">
                    <option value="" {{ disciplina_id ? '' : 'selected' }}>Disciplina</option>
                    <option disabled>------</option>
                    {% for id, nome in disciplinas %}
                    <option value="{{ id }}" {{ id == disciplina_id ? 'selected': '' }}>{{ nome }}</option>
                    {% endfor %}
                </select>
                <input type="submit" value="Filtrar" />
            </form>
        </li>
    </ul>
</nav>
<table class="striped">
    <thead>
        <tr>
            <th width="200px" scope="col">Atividade</th>
            <th width="auto" scope="col">Conteúdo</th>
        </tr>
    </thead>
    <tbody>
        {% for agendamento in data %}
        <tr style="vertical-align: top">
            <td>
                {{ agendamento.data|date('d/m') }}<br />
                <strong>{{ agendamento.disciplina.nome|upper }}</strong><br />
                <small>{{ agendamento.atividade.nome }}</small>
            </td>
            <td>{{ agendamento.conteudo }}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="2">Não há agendamentos previstos</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<nav>
    <ul>
        {% for link in links %}
        {% set label = loop.first ? 'Anterior' : (loop.last ? 'Próxima' : link.label) %}
        {% set isCurrent = link.active ? 'true' : 'false' %}
        <li>
            {% if link.url %}
            <a href="{{ link.url }}" aria-current="{{ isCurrent }}">{{ label }}</a>
            {% else %}
            <span>{{ label }}</span>
            {% endif %}
        </li>
        {% endfor %}
    </ul>
</nav>
{% endblock %}