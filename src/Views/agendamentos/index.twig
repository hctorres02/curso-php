{% extends "base.twig" %}
{% from "components.twig" import pagination, select %}

{% block main %}
<nav>
    <ul>
        <li>
            <hgroup role="heading">
                <h3>Agendamentos</h3>
                <p>Existem {{ total }} agendamentos previstos</p>
            </hgroup>
        </li>
    </ul>
    <ul>
        <li>
            <form role="group">
                {{ select('Período', 'periodo_id', periodos, periodo_id) }}
                {{ select('Atividade', 'atividade_id', atividades, atividade_id) }}
                {{ select('Disciplina', 'disciplina_id', disciplinas, disciplina_id) }}
                <input type="submit" value="Filtrar" />
            </form>
        </li>
    </ul>
</nav>
<table class="striped">
    <thead>
        <tr>
            <th width="200px" scope="col">Atividade</th>
            <th width="auto" scope="col">Conteúdo</th>
        </tr>
    </thead>
    <tbody>
        {% for agendamento in data %}
        <tr style="vertical-align: top">
            <td>
                {{ agendamento.data|date('d/m') }}<br />
                <strong>{{ agendamento.disciplina.nome|upper }}</strong><br />
                <small>{{ agendamento.atividade.nome }}</small>
            </td>
            <td>{{ agendamento.conteudo }}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="2">Não há agendamentos previstos</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{{ pagination(links) }}
{% endblock %}